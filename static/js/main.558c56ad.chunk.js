(this["webpackJsonpclever-todo-list"]=this["webpackJsonpclever-todo-list"]||[]).push([[0],{111:function(t,e,n){"use strict";n.r(e);var a=n(1),c=n(16),o=n.n(c),r=(n(99),n(30)),i=n(9),s=n(43),l=n.n(s),u=n(33),j=n.n(u),d=n(88),b=n(79);n.n(b).a.config();var O={apiKey:"AIzaSyCf7mLql2zcUJ7MtTb5dk4M7wnUg48_gxo",authDomain:"".concat("clever-todo-list-b0042",".firebaseapp.com"),projectId:"clever-todo-list-b0042",storageBucket:"".concat("clever-todo-list-b0042",".appspot.com"),messagingSenderId:"1088899324087",appId:"1:1088899324087:web:372ce5501fe771fee05532"},f=d.a.initializeApp(O),h=n(15),x=function(t){return{type:"SET_USER_ID",id:t}},p=function(t){return{type:"SET_CURRENT_DATE",date:t}},v=n(4),m=function(t){var e=t.date,n=t.setCurrentDate,c=Object(h.b)(),o=c.getState(),s=o.userID,l=o.activeTheme,u=Object(a.useState)(""),d=Object(i.a)(u,2),b=d[0],O=d[1],x=Object(a.useState)(!1),m=Object(i.a)(x,2),k=m[0],_=m[1],g=Object(a.useState)(!1),D=Object(i.a)(g,2),S=D[0],C=D[1],T=function(t){var e,n=t.val();if(null!==n){var a=[];Object.keys(n).forEach((function(t){var e=n[t];a.push(Object(r.a)({},e))})),a.length?((e=a).some((function(t){return!0===t.done}))?_(!0):_(!1),e.some((function(t){return!1===t.done}))?C(!0):C(!1)):(C(!1),_(!1))}};return Object(a.useEffect)((function(){e.format("YYYY-MM-DD")===c.getState().currentDate?O(j.a.active):O("")})),Object(a.useEffect)((function(){s&&function(t){if(e)new Promise((function(){f.database().ref("".concat(t,"/").concat(e.format("YYYY-MM-DD"))).on("value",T)}))}(s)}),[s]),Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"".concat(j.a.dayContainer," ").concat("dark"===l?j.a.dark:""," ").concat(b),onClick:function(){c.dispatch(p(e.format("YYYY-MM-DD"))),n(e)},children:[Object(v.jsx)("div",{children:e.format("ddd")}),Object(v.jsx)("div",{children:e.format("MMM")}),Object(v.jsx)("div",{children:e.format("Do")})]}),Object(v.jsxs)("div",{className:j.a.toDosContainer,children:[S?Object(v.jsx)("div",{className:"".concat(j.a.toDo," ").concat(j.a.notDoneToDo)}):null,k?Object(v.jsx)("div",{className:"".concat(j.a.toDo," ").concat(j.a.doneToDo)}):null]})]})},k=n(69),_=n.n(k),g=function(t){for(var e=l()(t),n=[l()(e)],a=0;a<30;a++)n.push(l()(e.add(1,"d")));return{lastDay:l()(l()(n[30]).add(1,"d")),days:n}},D=function(t){var e=t.setCurrentDate,n=Object(a.useRef)(),c=Object(h.b)(),o=c.getState().activeTheme,r=l()(),s=Object(a.useState)(g(r).days),u=Object(i.a)(s,2),j=u[0],d=u[1],b=Object(a.useState)(g(r).lastDay),O=Object(i.a)(b,2),f=O[0],x=O[1];Object(a.useEffect)((function(){c.dispatch(p(r.format("YYYY-MM-DD"))),e(r)}),[]);return Object(v.jsx)("div",{ref:n,className:"".concat(_.a.daysContainer," ").concat("dark"===o?_.a.dark:""),onScroll:function(t){return function(t){t.target.scrollWidth-t.target.scrollLeft-t.target.clientWidth<1&&(d(j.concat(g(f).days)),x(g(f).lastDay))}(t)},onWheel:function(t){return function(t){n.current.scrollTo({top:0,left:n.current.scrollLeft+t.deltaY})}(t)},children:j.map((function(t,n){return Object(v.jsx)(m,{date:t,setCurrentDate:function(t){return e(t)}},"key".concat(n))}))})},S=n(81),C=n.n(S),T=n(140),y=n(143),w=n(19),P=Object(T.a)({buttonDark:{color:"#e3e3e3"}}),E=function(){var t=Object(h.b)(),e=t.getState().activeTheme,n=Object(a.useState)(!0),c=Object(i.a)(n,2),o=c[0],r=c[1],s=Object(a.useState)(!1),l=Object(i.a)(s,2),u=l[0],j=l[1],d=P(),b="dark"===e?d.buttonDark:"";return Object(v.jsxs)("header",{className:C.a.mainPage,children:[Object(v.jsx)("h2",{children:"Tassker"}),Object(v.jsx)("div",{children:Object(v.jsx)(y.a,{size:"small",onClick:function(){return new Promise((function(e,n){f.auth().signOut().then((function(){t.dispatch(x(null)),t.dispatch(p(null)),r(!1),e()})).catch((function(t){return n(t)})).finally((function(){j(!1)}))}))},disabled:u,classes:{root:b},children:"Sign Out"})}),o?null:Object(v.jsx)(w.a,{to:"/signin"})]})},N=n(63),I=n.n(N),A=n(154),M=n(145),Y=n(146),z=n(22),L=function(t){var e=t.todo,n=Object(h.b)().getState(),c=n.userID,o=n.activeTheme,s=Object(a.useState)(e.done),l=Object(i.a)(s,2),u=l[0],j=l[1];Object(a.useEffect)((function(){j(e.done)}));return Object(v.jsxs)("div",{className:I.a.ToDoContainer,children:[Object(v.jsx)(A.a,{icon:Object(v.jsx)(M.a,{}),checkedIcon:Object(v.jsx)(Y.a,{}),checked:u,color:"primary",onChange:function(t){!function(t){new Promise((function(){f.database().ref("".concat(c,"/").concat(e.date,"/").concat(e.key)).set(Object(r.a)(Object(r.a)({},e),{},{done:t.target.checked}))}))}(t),j(!u)}}),Object(v.jsx)(z.b,{to:{pathname:"/task/".concat(e.key),props:{todo:e}},className:"".concat(I.a.link," \n          ").concat("dark"===o?I.a.dark:""),children:Object(v.jsx)("div",{children:e.title})})]})},B=n(86),R=n.n(B),F=function(t){var e=t.currentDate,n=Object(h.b)().getState().userID,c=Object(a.useState)(null),o=Object(i.a)(c,2),s=o[0],l=o[1],u=Object(a.useState)(null),j=Object(i.a)(u,2),d=j[0],b=j[1],O=function(t){var e=t.val();if(null!==e){var n=[];Object.keys(e).forEach((function(t){var a=e[t];n.push(Object(r.a)({},a))})),l(n.length),b(n)}else l(null),b(null)};return Object(a.useEffect)((function(){n&&function(t){if(e)new Promise((function(){var n;n="string"===typeof e?e:e.format("YYYY-MM-DD"),f.database().ref("".concat(t,"/").concat(n)).on("value",O)}))}(n)}),[e,n]),Object(v.jsxs)("div",{className:R.a.TodaysTasks,children:[s?Object(v.jsxs)("h2",{children:[s," Task",s>1?"s":""]}):null,d?d.map((function(t,e){return Object(v.jsx)(L,{todo:t},"".concat(e))})):null]})},W=n(73),U=n.n(W),J=n(147),K=Object(T.a)({button:{alignSelf:"center"}}),H=function(){var t=Object(h.b)().getState().currentDate,e=Object(a.useState)(t),n=Object(i.a)(e,2),c=n[0],o=n[1],r=K();return Object(v.jsxs)("div",{className:U.a.mainPageContaier,children:[Object(v.jsxs)("div",{children:[Object(v.jsx)(E,{}),Object(v.jsx)(D,{setCurrentDate:function(t){return o(t)}}),Object(v.jsx)(F,{currentDate:c})]}),Object(v.jsx)(z.b,{className:U.a.link,to:{pathname:"/task/new",props:{newtask:"newtask"}},children:Object(v.jsx)(y.a,{classes:{root:r.button},color:"primary",variant:"contained",startIcon:Object(v.jsx)(J.a,{}),children:"Add a New Task"})})]})},V=n(64),q=n.n(V),Q=n(87),Z=n.n(Q),G=function(t){var e=t.errorText,n=t.handleClose;return Object(v.jsxs)("div",{className:Z.a.modal,children:[Object(v.jsx)("h2",{children:e}),Object(v.jsx)(y.a,{onClick:n,children:"Close"})]})},X=n(153),$=n(148),tt=n(155),et=Object(T.a)({textField:{marginBottom:"10px",color:"white"},button:{alignSelf:"center",width:"200px"}}),nt=function(){var t=Object(h.b)(),e=t.getState().activeTheme,n=et(),c=Object(a.useState)(""),o=Object(i.a)(c,2),r=o[0],s=o[1],l=Object(a.useState)(""),u=Object(i.a)(l,2),j=u[0],d=u[1],b=Object(a.useState)(!1),O=Object(i.a)(b,2),p=O[0],m=O[1],k=Object(a.useState)(!1),_=Object(i.a)(k,2),g=_[0],D=_[1],S=Object(a.useState)(null),C=Object(i.a)(S,2),T=C[0],P=C[1],E=Object(a.useState)(!1),N=Object(i.a)(E,2),I=N[0],A=N[1];return Object(v.jsxs)("div",{className:q.a.AuthorizationContainer,children:[p?Object(v.jsx)(w.a,{to:"/calendar"}):null,Object(v.jsx)("div",{children:"Sign In To Clever To-Do list"}),Object(v.jsxs)("form",{children:[Object(v.jsx)(X.a,{size:"small",classes:{root:n.textField},variant:"outlined",value:r,label:"Email",type:"email",onChange:function(t){return s(t.target.value)}}),Object(v.jsx)(X.a,{size:"small",classes:{root:n.textField},variant:"outlined",value:j,label:"Password",type:"password",onChange:function(t){return d(t.target.value)}}),Object(v.jsx)(y.a,{type:"submit",variant:"contained",onClick:function(e){return function(e,n,a){return e.preventDefault(),new Promise((function(e,c){A(!0),f.auth().signInWithEmailAndPassword(n,a).then((function(n){t.dispatch(x(n.user.uid)),m(!0),e()})).catch((function(t){P(t.message),D(!0),c()})).finally((function(){A(!1)}))}))}(e,r,j)},classes:{root:n.button},disabled:I,color:"dark"===e?"primary":"default",children:I?Object(v.jsx)($.a,{size:25}):"Sign In"})]}),Object(v.jsxs)("div",{children:["Or"," ",Object(v.jsx)(z.b,{to:"/register",className:"".concat(q.a.link," ").concat("dark"===e?q.a.darkLink:""),children:"Create an account"})]}),Object(v.jsx)(tt.a,{open:g,children:Object(v.jsx)(G,{errorText:T,handleClose:function(){D(!1)}})})]})},at=n(65),ct=n.n(at),ot=Object(T.a)({textField:{marginBottom:"10px"},button:{alignSelf:"center",width:"200px"}}),rt=function(){var t=Object(h.b)(),e=ot(),n=t.getState().activeTheme,c=Object(a.useState)(""),o=Object(i.a)(c,2),r=o[0],s=o[1],l=Object(a.useState)(""),u=Object(i.a)(l,2),j=u[0],d=u[1],b=Object(a.useState)(!1),O=Object(i.a)(b,2),p=O[0],m=O[1],k=Object(a.useState)(!1),_=Object(i.a)(k,2),g=_[0],D=_[1],S=Object(a.useState)(null),C=Object(i.a)(S,2),T=C[0],P=C[1],E=Object(a.useState)(!1),N=Object(i.a)(E,2),I=N[0],A=N[1];return Object(v.jsxs)("div",{className:ct.a.RegistrationContainer,children:[Object(v.jsx)("div",{children:"Join Clever To-Do list"}),Object(v.jsxs)("form",{children:[Object(v.jsx)(X.a,{size:"small",classes:{root:e.textField},variant:"outlined",value:r,label:"Email",type:"email",onChange:function(t){return s(t.target.value)}}),Object(v.jsx)(X.a,{size:"small",classes:{root:e.textField},variant:"outlined",value:j,label:"Password",type:"password",onChange:function(t){return d(t.target.value)}}),Object(v.jsx)(y.a,{type:"submit",variant:"contained",onClick:function(e){return function(e,n,a){return e.preventDefault(),new Promise((function(e,c){A(!0),f.auth().createUserWithEmailAndPassword(n,a).then((function(n){t.dispatch(x(n.user.uid)),m(!0),e()})).catch((function(t){P(t.message),D(!0),c(t)})).finally((function(){A(!1)}))}))}(e,r,j)},classes:{root:e.button},disabled:I,color:"dark"===n?"primary":"default",children:I?Object(v.jsx)($.a,{size:25}):"Sign Up"})]}),Object(v.jsxs)("div",{children:["Or"," ",Object(v.jsx)(z.b,{to:"/signin",className:"".concat(ct.a.link," ").concat("dark"===n?ct.a.darkLink:""),children:"Sign in with an existing account"})]}),p?Object(v.jsx)(w.a,{to:"/calendar"}):null,Object(v.jsx)(tt.a,{open:g,children:Object(v.jsx)(G,{errorText:T,handleClose:function(){D(!1)}})})]})},it=n(74),st=n.n(it),lt=function(t){var e=t.location,n=t.component;return Object(v.jsx)(v.Fragment,{children:e.props?Object(v.jsx)(n,{locProps:e.props}):Object(v.jsx)(w.a,{to:"/calendar"})})},ut=n(44),jt=n.n(ut),dt=n(149),bt=n(150),Ot=n(151),ft=n(152),ht=Object(T.a)({completeButton:{backgroundColor:"#baffba",color:"green","&:hover":{backgroundColor:"#baffba"}},textField:{marginBottom:"10px"}}),xt=function(t){var e=t.locProps,n=Object(h.b)().getState(),c=n.userID,o=n.currentDate,r=ht(),s=e.todo,l=o,u=!1,j="",d="",b=!0,O=null;s&&(l=s.date,u=s.done,j=s.title,d=s.description,b=!1,O=s.key);var x=Object(a.useState)(u),p=Object(i.a)(x,2),m=p[0],k=p[1],_=Object(a.useState)(b),g=Object(i.a)(_,2),D=g[0],S=g[1],C=Object(a.useState)(!1),T=Object(i.a)(C,2),P=T[0],E=T[1],N=Object(a.useState)(j),I=Object(i.a)(N,2),L=I[0],B=I[1],R=Object(a.useState)(d),F=Object(i.a)(R,2),W=F[0],U=F[1],J=Object(a.useState)(O),K=Object(i.a)(J,2),H=K[0],V=K[1],q=Object(a.useState)(!1),Q=Object(i.a)(q,2),Z=Q[0],G=Q[1];return Object(v.jsxs)("div",{className:jt.a.Task,children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("header",{children:Object(v.jsx)(z.b,{className:jt.a.link,to:"/calendar",children:Object(v.jsx)(y.a,{startIcon:Object(v.jsx)(dt.a,{}),children:"Back"})})}),D?Object(v.jsxs)("form",{children:[Object(v.jsx)(X.a,{value:L,classes:{root:r.textField},type:"text",label:"Title",variant:"outlined",inputProps:{maxLength:100},onChange:function(t){return B(t.target.value)}}),Object(v.jsxs)("div",{className:jt.a.countOfWords,children:[L.length,"/100"]}),Object(v.jsx)(X.a,{multiline:!0,label:"Description",variant:"outlined",rows:10,rowsMax:20,value:W,classes:{root:r.textField},inputProps:{maxLength:2e3},onChange:function(t){return U(t.target.value)}}),Object(v.jsxs)("div",{className:jt.a.countOfWords,children:[W.length,"/2000"]})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:jt.a.ToDoContainer,children:[Object(v.jsx)(A.a,{icon:Object(v.jsx)(M.a,{}),checkedIcon:Object(v.jsx)(Y.a,{}),checked:m,color:"primary",onChange:function(t){!function(t,e,n,a){new Promise((function(){f.database().ref("".concat(c,"/").concat(e,"/").concat(H)).set({done:t.target.checked,key:H,title:n,description:a,date:e})}))}(t,l,L,W),k(!m)}}),Object(v.jsx)("div",{children:L})]}),Object(v.jsx)("p",{children:W})]})]}),Object(v.jsx)("div",{className:jt.a.buttonsContainer,children:D?Object(v.jsx)(y.a,{variant:"contained",endIcon:Object(v.jsx)(bt.a,{}),classes:{root:r.completeButton},onClick:function(t){!function(t,e,n,a){t.preventDefault(),new Promise((function(t,o){var r=H||f.database().ref("".concat(c,"/").concat(e)).push().key;f.database().ref("".concat(c,"/").concat(e,"/").concat(r)).set({done:m,key:r,title:n,description:a,date:e}).then((function(){t()})).catch((function(t){return o(t)})).finally((function(){G(!1)})),V(r)}))}(t,l,L,W),e.newtask?E(!0):S(!1)},disabled:Z,children:e.newtask?"Save":"Update"}):Object(v.jsxs)("div",{children:[Object(v.jsx)(y.a,{onClick:function(){return function(t,e,n){return new Promise((function(){f.database().ref("".concat(t,"/").concat(e,"/").concat(n)).remove().then((function(){E(!0)}))}))}(c,l,H)},children:Object(v.jsx)(Ot.a,{})}),Object(v.jsx)(y.a,{onClick:function(){return S(!0)},children:Object(v.jsx)(ft.a,{})})]})}),P?Object(v.jsx)(w.a,{to:"/calendar"}):null]})},pt=function(t){var e=t.component,n=t.path,c=Object(h.b)(),o=Object(a.useState)(!0),r=Object(i.a)(o,2),s=r[0],l=r[1],u=c.getState().userID,j=Object(a.useState)(!1),d=Object(i.a)(j,2),b=d[0],O=d[1];return Object(a.useEffect)((function(){new Promise((function(t,e){f.auth().onAuthStateChanged((function(n){n?(c.dispatch(x(n.uid)),l(!0),t()):(l(!1),e())}))})).finally((function(){return O(!0)}))}),[u]),b?Object(v.jsx)(w.b,{path:n,render:function(){return s?Object(v.jsx)(e,{}):Object(v.jsx)(w.a,{to:"/signin"})}}):Object(v.jsx)("div",{children:Object(v.jsx)($.a,{size:80})})},vt=function(t){var e=t.component,n=t.path,c=Object(h.b)(),o=Object(a.useState)(!0),r=Object(i.a)(o,2),s=r[0],l=r[1],u=c.getState().userID,j=Object(a.useState)(!1),d=Object(i.a)(j,2),b=d[0],O=d[1];return Object(a.useEffect)((function(){new Promise((function(t,e){f.auth().onAuthStateChanged((function(n){n?(l(!1),e()):(l(!0),t())}))})).finally((function(){return O(!0)}))}),[u]),b?Object(v.jsx)(w.b,{path:n,render:function(){return s?Object(v.jsx)(e,{}):Object(v.jsx)(w.a,{to:"/calendar"})}}):Object(v.jsx)("div",{children:Object(v.jsx)($.a,{size:80})})};var mt=function(){var t=Object(h.b)(),e=t.getState(),n=e.userID,c=e.activeTheme,o=Object(a.useState)(null),s=Object(i.a)(o,2),l=s[0],u=s[1];return Object(a.useEffect)((function(){t.dispatch({type:"SET_THEME",theme:"light"}),new Promise((function(e,n){f.auth().onAuthStateChanged((function(a){a?(t.dispatch(x(a.uid)),u(Object(v.jsx)(w.a,{to:"/calendar"})),e()):(u(Object(v.jsx)(w.a,{to:"/signin"})),n())}))}))}),[n]),Object(a.useEffect)((function(){"dark"===c?document.body.classList.add("darkBody"):document.body.classList.remove("darkBody")})),Object(v.jsx)("div",{className:"".concat(st.a.App," ").concat("dark"===c?st.a.dark:""),children:Object(v.jsxs)(w.d,{children:[Object(v.jsx)(vt,{path:"/clever-todo-list/register",component:rt}),Object(v.jsx)(vt,{path:"/clever-todo-list/signin",component:nt}),Object(v.jsx)(pt,{path:"/clever-todo-list/calendar",component:H}),Object(v.jsx)(w.b,{path:"/clever-todo-list/task/:id",render:function(t){return Object(v.jsx)(lt,Object(r.a)(Object(r.a)({},t),{},{component:xt}))}}),l||null]})})},kt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,157)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,o=e.getLCP,r=e.getTTFB;n(t),a(t),c(t),o(t),r(t)}))},_t=n(46),gt=Object(_t.b)({activeTheme:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light",e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_THEME":return e.theme;default:return t}},userID:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_USER_ID":return e.id;default:return t}},currentDate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_CURRENT_DATE":return e.date;default:return t}}}),Dt=Object(_t.c)(gt);o.a.render(Object(v.jsx)(h.a,{store:Dt,children:Object(v.jsx)(z.a,{children:Object(v.jsx)(mt,{})})}),document.getElementById("root")),kt()},33:function(t,e,n){t.exports={dayContainer:"Day_dayContainer__11vPo",dark:"Day_dark__3WLfn",active:"Day_active__3eZs2",toDosContainer:"Day_toDosContainer__2x1Ra",toDo:"Day_toDo__1hKkn",doneToDo:"Day_doneToDo__ZLlts",notDoneToDo:"Day_notDoneToDo__1BpxB"}},44:function(t,e,n){t.exports={Task:"Task_Task__3UnQl",ToDoContainer:"Task_ToDoContainer__Vgpo_",link:"Task_link__3mBML",buttonsContainer:"Task_buttonsContainer__3Ux3K",countOfWords:"Task_countOfWords__2vDwP",dark:"Task_dark__NjKN3",mainPageContaier:"Task_mainPageContaier__fQBRI"}},63:function(t,e,n){t.exports={ToDoContainer:"ToDo_ToDoContainer__yjI8D",link:"ToDo_link__3-_Ok",dark:"ToDo_dark__1cplk"}},64:function(t,e,n){t.exports={AuthorizationContainer:"Authorization_AuthorizationContainer__2s0mW",link:"Authorization_link__1HM-E",dark:"Authorization_dark__3gr5-",darkLink:"Authorization_darkLink__3PjKE"}},65:function(t,e,n){t.exports={RegistrationContainer:"Registration_RegistrationContainer__31a4A",link:"Registration_link__2UVlW",dark:"Registration_dark__3dBt3",darkLink:"Registration_darkLink__1gNql"}},69:function(t,e,n){t.exports={daysContainer:"Calendar_daysContainer__oJ-RS",dark:"Calendar_dark__1GYBx"}},73:function(t,e,n){t.exports={mainPageContaier:"MainPage_mainPageContaier__16AKO",link:"MainPage_link__3ni-P"}},74:function(t,e,n){t.exports={App:"App_App__V6zl7",dark:"App_dark__2lC-A"}},81:function(t,e,n){t.exports={mainPage:"Header_mainPage__IgICM"}},86:function(t,e,n){t.exports={TodaysTasks:"TodaysTasks_TodaysTasks__3Js0P"}},87:function(t,e,n){t.exports={modal:"ModalWindow_modal__2k3-x"}},99:function(t,e,n){}},[[111,1,2]]]);
//# sourceMappingURL=main.558c56ad.chunk.js.map